# ğŸµ RustCast ê¸°ì—¬ ê°€ì´ë“œ

RustCastì— ê´€ì‹¬ì„ ê°€ì ¸ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤! ì´ ë¬¸ì„œëŠ” í”„ë¡œì íŠ¸ì˜ êµ¬ì¡°, ê°œë°œ ê³¼ì •, ê·¸ë¦¬ê³  ê¸°ì—¬ ë°©ë²•ì— ëŒ€í•´ ì„¤ëª…í•©ë‹ˆë‹¤.

## ğŸ“– ëª©ì°¨

- [í”„ë¡œì íŠ¸ ê°œìš”](#í”„ë¡œì íŠ¸-ê°œìš”)
- [ê¸°ìˆ  ìŠ¤íƒ](#ê¸°ìˆ -ìŠ¤íƒ)
- [ì•„í‚¤í…ì²˜](#ì•„í‚¤í…ì²˜)
- [ê°œë°œ í™˜ê²½ ì„¤ì •](#ê°œë°œ-í™˜ê²½-ì„¤ì •)
- [ë¹Œë“œ ë°©ë²•](#ë¹Œë“œ-ë°©ë²•)
- [ì½”ë“œ êµ¬ì¡°](#ì½”ë“œ-êµ¬ì¡°)
- [í•µì‹¬ ëª¨ë“ˆ ì„¤ëª…](#í•µì‹¬-ëª¨ë“ˆ-ì„¤ëª…)
- [ì„¤ì • íŒŒì¼](#ì„¤ì •-íŒŒì¼)
- [ê¸°ì—¬ ë°©ë²•](#ê¸°ì—¬-ë°©ë²•)
- [ì•Œë ¤ì§„ ì´ìŠˆ ë° ì œí•œì‚¬í•­](#ì•Œë ¤ì§„-ì´ìŠˆ-ë°-ì œí•œì‚¬í•­)
- [í–¥í›„ ê°œì„  ì‚¬í•­](#í–¥í›„-ê°œì„ -ì‚¬í•­)

---

## í”„ë¡œì íŠ¸ ê°œìš”

RustCastëŠ” **"ë”ë¸”í´ë¦­ â†’ ë°”ë¡œ ì‹œìŠ¤í…œ ì˜¤ë””ì˜¤ ì†¡ì¶œ ì„œë²„ ON"** ì„ ëª©í‘œë¡œ ë§Œë“¤ì–´ì§„ Windows ì „ìš© ì˜¤ë””ì˜¤ ìŠ¤íŠ¸ë¦¬ë° ì„œë²„ì…ë‹ˆë‹¤.

### í•µì‹¬ ëª©í‘œ
- ğŸ–±ï¸ **ì œë¡œ ì„¤ì •** - exe íŒŒì¼ ì‹¤í–‰ë§Œìœ¼ë¡œ ì¦‰ì‹œ ì‘ë™
- ğŸ”Š **ì‹œìŠ¤í…œ ì˜¤ë””ì˜¤ ìº¡ì²˜** - PCì—ì„œ ì¬ìƒë˜ëŠ” ëª¨ë“  ì†Œë¦¬ë¥¼ ìŠ¤íŠ¸ë¦¬ë°
- ğŸŒ **ì›¹ ê¸°ë°˜ ì ‘ê·¼** - ë³„ë„ ì•± ì„¤ì¹˜ ì—†ì´ ë¸Œë¼ìš°ì €ë¡œ ì ‘ì†
- ğŸ“± **í¬ë¡œìŠ¤ ë””ë°”ì´ìŠ¤** - ê°™ì€ ë„¤íŠ¸ì›Œí¬ ë‚´ ëª¨ë“  ê¸°ê¸°ì—ì„œ ì ‘ì† ê°€ëŠ¥

### ì‚¬ìš© ì‹œë‚˜ë¦¬ì˜¤
- ğŸ“º PC ì†Œë¦¬ë¥¼ ë‹¤ë¥¸ ë°©ì—ì„œ ë“£ê¸°
- ğŸ® ê²Œì„/ì˜ìƒ ì†Œë¦¬ë¥¼ ìŠ¤ë§ˆíŠ¸í°ìœ¼ë¡œ ìŠ¤íŠ¸ë¦¬ë°
- ğŸ§ ë¬´ì„  ìŠ¤í”¼ì»¤ê°€ ì—†ì„ ë•Œ ìŠ¤ë§ˆíŠ¸í°ì„ ìŠ¤í”¼ì»¤ë¡œ í™œìš©

---

## ê¸°ìˆ  ìŠ¤íƒ

| êµ¬ì„±ìš”ì†Œ | ë¼ì´ë¸ŒëŸ¬ë¦¬ | ìš©ë„ |
|---------|-----------|------|
| ì˜¤ë””ì˜¤ ìº¡ì²˜ | [cpal](https://crates.io/crates/cpal) v0.15 | WASAPIë¥¼ í†µí•œ ì‹œìŠ¤í…œ ì˜¤ë””ì˜¤ ë£¨í”„ë°± ìº¡ì²˜ |
| Opus ì¸ì½”ë”© | [audiopus](https://crates.io/crates/audiopus) v0.3 | ì‹¤ì‹œê°„ PCM â†’ Opus ë³€í™˜ (ì €ì§€ì—°) |
| HTTP ì„œë²„ | [tiny_http](https://crates.io/crates/tiny_http) v0.12 | ê²½ëŸ‰ HTTP ìŠ¤íŠ¸ë¦¬ë° ì„œë²„ |
| WebSocket | [sha1](https://crates.io/crates/sha1) + [base64](https://crates.io/crates/base64) | WebSocket í•¸ë“œì…°ì´í¬ |
| Windows GUI | [native-windows-gui](https://crates.io/crates/native-windows-gui) v1.0 | Windows ë„¤ì´í‹°ë¸Œ ì„¤ì • íŒ¨ë„ |
| ì„¤ì • ê´€ë¦¬ | [serde](https://crates.io/crates/serde) + [serde_json](https://crates.io/crates/serde_json) | JSON ì„¤ì • íŒŒì¼ ì²˜ë¦¬ |
| ìŠ¤ë ˆë“œ í†µì‹  | [crossbeam-channel](https://crates.io/crates/crossbeam-channel) v0.5 | ê³ ì„±ëŠ¥ ë©€í‹° ìŠ¤ë ˆë“œ ì±„ë„ |
| ë¡œê¹… | [log](https://crates.io/crates/log) + [env_logger](https://crates.io/crates/env_logger) | êµ¬ì¡°í™”ëœ ë¡œê¹… |
| Windows API | [windows-sys](https://crates.io/crates/windows-sys) v0.52 | ì•„ì´ì½˜ ë¡œë”© ë“± Windows ë„¤ì´í‹°ë¸Œ ê¸°ëŠ¥ |

---

## ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         RustCast                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚ Audio        â”‚    â”‚ Opus         â”‚    â”‚ WebSocket    â”‚       â”‚
â”‚  â”‚ Capture      â”‚â”€â”€â”€â–¶â”‚ Encoder      â”‚â”€â”¬â”€â–¶â”‚ Server       â”‚â”€â”€â”€â–¶ ğŸ“¡â”‚
â”‚  â”‚ (WASAPI)     â”‚    â”‚ (audiopus)   â”‚ â”‚  â”‚ (Raw Opus)   â”‚  ~50msâ”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                       â”‚                         â”‚
â”‚                                       â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚                                       â””â”€â–¶â”‚ HTTP Server  â”‚       â”‚
â”‚                                          â”‚ (Ogg wrap)   â”‚â”€â”€â”€â–¶ ğŸŒâ”‚
â”‚                                          â”‚ Legacy       â”‚ ~2-3s â”‚
â”‚                                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚         â”‚                                       â”‚                â”‚
â”‚         â”‚           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚                â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚ Settings     â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â”‚                     â”‚ Panel (nwg)  â”‚                            â”‚
â”‚                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                            â”‚
â”‚                            â”‚                                     â”‚
â”‚                     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                            â”‚
â”‚                     â”‚ Config       â”‚                            â”‚
â”‚                     â”‚ (serde_json) â”‚                            â”‚
â”‚                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                            â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ë°ì´í„° íë¦„

1. **ì˜¤ë””ì˜¤ ìº¡ì²˜** (audio.rs)
   - WASAPIë¥¼ í†µí•´ ê¸°ë³¸ ì¶œë ¥ ì¥ì¹˜ì˜ ì˜¤ë””ì˜¤ë¥¼ ìº¡ì²˜
   - 48kHz, ìŠ¤í…Œë ˆì˜¤, f32 í¬ë§·ìœ¼ë¡œ ìƒ˜í”Œë§
   - `crossbeam-channel`ì„ í†µí•´ ì¸ì½”ë”ë¡œ ì „ì†¡

2. **Opus ì¸ì½”ë”©** (opus_encoder.rs)
   - audiopus ë¼ì´ë¸ŒëŸ¬ë¦¬ë¡œ ì‹¤ì‹œê°„ Opus ì¸ì½”ë”©
   - 10ms í”„ë ˆì„ (480 ìƒ˜í”Œ) - ì €ì§€ì—° ìµœì í™”
   - ê¸°ë³¸ 128kbps (ì„¤ì • ê°€ëŠ¥: 64~256kbps)
   - Raw Opus íŒ¨í‚·ì„ ì„œë²„ë¡œ ì „ì†¡

3. **HTTP/WebSocket ìŠ¤íŠ¸ë¦¬ë°** (server.rs)
   - `/` - ì €ì§€ì—° ì›¹ í”Œë ˆì´ì–´ (WebSocket + Web Audio API)
   - `/legacy` - ë ˆê±°ì‹œ HTML5 Audio í”Œë ˆì´ì–´
   - `/ws` - WebSocket ìŠ¤íŠ¸ë¦¬ë° (Raw Opus íŒ¨í‚·)
   - `/stream.opus` - Opus/Ogg ì˜¤ë””ì˜¤ ìŠ¤íŠ¸ë¦¼ (ë ˆê±°ì‹œ)
   - `/status` - ì„œë²„ ìƒíƒœ JSON API
   - WebSocket: Raw Opus íŒ¨í‚· ì „ì†¡ (~50-100ms ì§€ì—°)
   - HTTP: í´ë¼ì´ì–¸íŠ¸ë³„ Ogg ì»¨í…Œì´ë„ˆ ìƒì„± (~2-3ì´ˆ ì§€ì—°)
   - ë‹¤ì¤‘ í´ë¼ì´ì–¸íŠ¸ ë™ì‹œ ì§€ì›

4. **ì„¤ì • íŒ¨ë„** (gui.rs)
   - Windows ë„¤ì´í‹°ë¸Œ GUI (native-windows-gui)
   - ì‹¤ì‹œê°„ í´ë¼ì´ì–¸íŠ¸ ìˆ˜ í‘œì‹œ
   - í¬íŠ¸/ë¹„íŠ¸ë ˆì´íŠ¸ ì„¤ì •

---

## ê°œë°œ í™˜ê²½ ì„¤ì •

### í•„ìˆ˜ ìš”êµ¬ì‚¬í•­

- **OS**: Windows 10/11 (WASAPI í•„ìš”)
- **Rust**: 1.70 ì´ìƒ (ê¶Œì¥: ìµœì‹  stable)
- **Build Tools**: Visual Studio Build Tools (C++ ì»´íŒŒì¼ëŸ¬)
- **CMake**: Opus ë„¤ì´í‹°ë¸Œ ë¼ì´ë¸ŒëŸ¬ë¦¬ ë¹Œë“œì— í•„ìš”

### CMake ì„¤ì¹˜

```powershell
# wingetìœ¼ë¡œ ì„¤ì¹˜
winget install Kitware.CMake

# PATHì— ì¶”ê°€ (ë¹Œë“œ ì „)
$env:PATH = "C:\Program Files\CMake\bin;$env:PATH"
```

### Rust ì„¤ì¹˜

```powershell
# Rustup ì„¤ì¹˜ (https://rustup.rs)
winget install Rustlang.Rustup

# ë˜ëŠ” ê³µì‹ ì¸ìŠ¤í†¨ëŸ¬ ì‚¬ìš©
# https://www.rust-lang.org/tools/install

# ìµœì‹  ë²„ì „ìœ¼ë¡œ ì—…ë°ì´íŠ¸
rustup update stable

# ë²„ì „ í™•ì¸
rustc --version  # rustc 1.93.0 ì´ìƒ
cargo --version
```

### í”„ë¡œì íŠ¸ í´ë¡ 

```powershell
git clone https://github.com/your-username/rustcast.git
cd rustcast
```

---

## ë¹Œë“œ ë°©ë²•

### ê°œë°œ ë¹Œë“œ (ë””ë²„ê·¸)

```powershell
cargo build
cargo run
```

- ë¹ ë¥¸ ì»´íŒŒì¼
- ë””ë²„ê·¸ ì‹¬ë³¼ í¬í•¨
- ì½˜ì†” ì°½ í‘œì‹œë¨

### ë¦´ë¦¬ì¦ˆ ë¹Œë“œ

```powershell
cargo build --release
```

- ìµœì í™”ë¨ (LTO í™œì„±í™”)
- ì‹¤í–‰ íŒŒì¼ í¬ê¸°: ~2.3MB
- ì½˜ì†” ì°½ ìˆ¨ê¹€ (`windows_subsystem = "windows"`)
- ì¶œë ¥ ìœ„ì¹˜: `target/release/rustcast.exe`

### ì•„ì´ì½˜ ì„ë² ë”©

`build.rs`ê°€ ìë™ìœ¼ë¡œ `resources/rustcast_envelope.ico`ë¥¼ ì‹¤í–‰ íŒŒì¼ì— ì„ë² ë“œí•©ë‹ˆë‹¤.

```rust
// build.rs
res.set_icon("resources/rustcast_envelope.ico");
```

---

## ì½”ë“œ êµ¬ì¡°

```
rustcast/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ main.rs           # ì§„ì…ì , ì•± ì´ˆê¸°í™” ë° ì´ë²¤íŠ¸ ë£¨í”„
â”‚   â”œâ”€â”€ audio.rs          # WASAPI ì˜¤ë””ì˜¤ ìº¡ì²˜
â”‚   â”œâ”€â”€ opus_encoder.rs   # Opus ì¸ì½”ë”© + Ogg ì»¨í…Œì´ë„ˆ
â”‚   â”œâ”€â”€ encoder.rs        # (ë ˆê±°ì‹œ) MP3 ì¸ì½”ë”©
â”‚   â”œâ”€â”€ server.rs         # HTTP ìŠ¤íŠ¸ë¦¬ë° ì„œë²„
â”‚   â”œâ”€â”€ config.rs         # ì„¤ì • íŒŒì¼ ê´€ë¦¬
â”‚   â”œâ”€â”€ gui.rs            # Windows ë„¤ì´í‹°ë¸Œ ì„¤ì • íŒ¨ë„
â”‚   â””â”€â”€ tray.rs           # ì‹œìŠ¤í…œ íŠ¸ë ˆì´ ì•„ì´ì½˜
â”œâ”€â”€ resources/
â”‚   â”œâ”€â”€ rustcast_envelope.ico    # íŠ¸ë ˆì´/ì•± ì•„ì´ì½˜
â”‚   â””â”€â”€ rustcast_envelope_*.png  # ë‹¤ì–‘í•œ í¬ê¸° PNG
â”œâ”€â”€ build.rs           # Windows ë¦¬ì†ŒìŠ¤ ì»´íŒŒì¼
â”œâ”€â”€ Cargo.toml         # ì˜ì¡´ì„± ì •ì˜
â”œâ”€â”€ README.md          # ì‚¬ìš©ì ê°€ì´ë“œ
â”œâ”€â”€ CONTRIBUTING.md    # ì´ íŒŒì¼
â””â”€â”€ LICENSE            # MIT ë¼ì´ì„ ìŠ¤
```

---

## í•µì‹¬ ëª¨ë“ˆ ì„¤ëª…

### `audio.rs` - ì˜¤ë””ì˜¤ ìº¡ì²˜

```rust
pub struct AudioCapture {
    stream: Option<Stream>,
    pub sample_rate: u32,    // 48000Hz
    pub channels: u16,       // 2 (ìŠ¤í…Œë ˆì˜¤)
    is_capturing: Arc<AtomicBool>,
}
```

**ì£¼ìš” ê¸°ëŠ¥:**
- `new()` - ê¸°ë³¸ ì¶œë ¥ ì¥ì¹˜ ê°ì§€ ë° ì´ˆê¸°í™”
- `start(tx)` - ì˜¤ë””ì˜¤ ìº¡ì²˜ ì‹œì‘, ìƒ˜í”Œì„ ì±„ë„ë¡œ ì „ì†¡
- `stop()` - ìº¡ì²˜ ì¤‘ì§€

**WASAPI ë£¨í”„ë°±:**
```rust
let host = cpal::host_from_id(cpal::HostId::Wasapi)?;
let device = host.default_output_device()?;
```

### `opus_encoder.rs` - Opus ì¸ì½”ë”©

```rust
pub struct OpusEncoder {
    encoder: Encoder,
    sample_rate: u32,
    channels: u16,
    frame_size: usize,  // 480 (10ms @ 48kHz)
}
```

**ì£¼ìš” ê¸°ëŠ¥:**
- `new(sample_rate, channels, bitrate)` - Opus ì¸ì½”ë” ì´ˆê¸°í™”
- `encode_raw(samples)` - f32 PCM â†’ Raw Opus íŒ¨í‚· ë³€í™˜
- `get_headers_with_serial(serial)` - OpusHead + OpusTags Ogg í˜ì´ì§€ ìƒì„±
- `wrap_opus_packet(packet, granule, serial, seq)` - Opus íŒ¨í‚·ì„ Ogg í˜ì´ì§€ë¡œ ë˜í•‘
- `create_ogg_page(...)` - ìˆ˜ë™ Ogg í˜ì´ì§€ ìƒì„± (CRC-32 í¬í•¨)

**Opus ì„¤ì •:**
- Application ëª¨ë“œ: `LowDelay` (ì‹¤ì‹œê°„ ìŠ¤íŠ¸ë¦¬ë° ìµœì í™”)
- í”„ë ˆì„ í¬ê¸°: 10ms (ìµœì € ì§€ì—°)
- ì§€ì› ë¹„íŠ¸ë ˆì´íŠ¸: 64, 96, 128, 192, 256 kbps

**Ogg ì»¨í…Œì´ë„ˆ:**
- í´ë¼ì´ì–¸íŠ¸ë³„ ê³ ìœ  ì‹œë¦¬ì–¼ ë²ˆí˜¸
- BOS(Beginning of Stream) í”Œë˜ê·¸ëŠ” ì²« í˜ì´ì§€ì—ë§Œ
- CRC-32 ì²´í¬ì„¬ (polynomial 0x04C11DB7)

### `server.rs` - HTTP ì„œë²„

```rust
pub struct StreamServer {
    port: u16,
    is_running: Arc<AtomicBool>,
    client_count: Arc<AtomicUsize>,
    opus_channels: u16,
    opus_sample_rate: u32,
    opus_frame_size: usize,
}
```

**ì—”ë“œí¬ì¸íŠ¸:**
| ê²½ë¡œ | ì‘ë‹µ |
|------|------|
| `/` | HTML ì›¹ í”Œë ˆì´ì–´ (Opus ì¬ìƒ) |
| `/stream.opus` | Opus/Ogg ì˜¤ë””ì˜¤ ìŠ¤íŠ¸ë¦¼ |
| `/status` | `{"clients": N, "running": true}` |

**Ogg ìŠ¤íŠ¸ë¦¬ë° íŠ¹ì§•:**
- í´ë¼ì´ì–¸íŠ¸ ì—°ê²° ì‹œ ìƒˆ Ogg ìŠ¤íŠ¸ë¦¼ ì‹œì‘ (ê³ ìœ  ì‹œë¦¬ì–¼)
- OpusHead + OpusTags í—¤ë” ë¨¼ì € ì „ì†¡
- Raw Opus íŒ¨í‚·ì„ Ogg í˜ì´ì§€ë¡œ ë˜í•‘í•˜ì—¬ ì „ì†¡
- chunked transfer encoding ì‚¬ìš©

### `gui.rs` - ì„¤ì • íŒ¨ë„

```rust
pub struct SettingsPanel {
    pub window: nwg::Window,
    pub status_value: nwg::Label,
    pub clients_value: nwg::Label,
    // ... ì„¤ì • ì…ë ¥ í•„ë“œ
}
```

**ì£¼ìš” ê¸°ëŠ¥:**
- Windows ë„¤ì´í‹°ë¸Œ GUI (native-windows-gui)
- ì‹¤ì‹œê°„ ì—°ê²° í´ë¼ì´ì–¸íŠ¸ ìˆ˜ í‘œì‹œ
- í¬íŠ¸/ë¹„íŠ¸ë ˆì´íŠ¸ ì„¤ì • UI
- ì‹œìŠ¤í…œ íŠ¸ë ˆì´ í†µí•©

### `config.rs` - ì„¤ì • ê´€ë¦¬

```rust
pub struct Config {
    pub port: u16,        // ê¸°ë³¸ê°’: 3000
    pub bitrate: u32,     // ê¸°ë³¸ê°’: 192
    pub auto_start: bool, // ê¸°ë³¸ê°’: true
}
```

**ì„¤ì • íŒŒì¼ ìœ„ì¹˜:**
```
%APPDATA%\rustcast\RustCast\config.json
```

### `tray.rs` - ì‹œìŠ¤í…œ íŠ¸ë ˆì´

ì‹œìŠ¤í…œ íŠ¸ë ˆì´ ì•„ì´ì½˜ ë° í´ë°± ì²˜ë¦¬:
- ì•„ì´ì½˜ íŒŒì¼ ë¡œë”© (`resources/rustcast_envelope.ico`)
- ì„ë² ë””ë“œ ë¦¬ì†ŒìŠ¤ í´ë°± (ë¦´ë¦¬ì¦ˆ ë¹Œë“œ)
- ì½˜ì†” ëª¨ë“œ í´ë°± (ì•„ì´ì½˜ ì—†ì„ ì‹œ)

---

## ì„¤ì • íŒŒì¼

### ìœ„ì¹˜
```
%APPDATA%\rustcast\RustCast\config.json
```

### ì˜ˆì‹œ
```json
{
  "port": 3000,
  "bitrate": 192,
  "auto_start": true
}
```

### ì˜µì…˜ ì„¤ëª…

| ì˜µì…˜ | íƒ€ì… | ê¸°ë³¸ê°’ | ì„¤ëª… |
|------|------|--------|------|
| `port` | u16 | 3000 | HTTP ì„œë²„ í¬íŠ¸ (1-65535) |
| `bitrate` | u32 | 192 | MP3 ë¹„íŠ¸ë ˆì´íŠ¸ kbps (64/96/128/160/192/256/320) |
| `auto_start` | bool | true | ì‹¤í–‰ ì‹œ ìë™ìœ¼ë¡œ ìŠ¤íŠ¸ë¦¬ë° ì‹œì‘ |

---

## ê¸°ì—¬ ë°©ë²•

### ì´ìŠˆ ë“±ë¡

ë²„ê·¸ ë¦¬í¬íŠ¸ë‚˜ ê¸°ëŠ¥ ì œì•ˆì€ GitHub Issuesë¥¼ ì‚¬ìš©í•´ì£¼ì„¸ìš”:

- ğŸ› **ë²„ê·¸ ë¦¬í¬íŠ¸**: ì¬í˜„ ë‹¨ê³„, ì˜ˆìƒ ë™ì‘, ì‹¤ì œ ë™ì‘ í¬í•¨
- ğŸ’¡ **ê¸°ëŠ¥ ì œì•ˆ**: ì‚¬ìš© ì‚¬ë¡€ì™€ ê¸°ëŒ€ íš¨ê³¼ ì„¤ëª…
- ğŸ“š **ë¬¸ì„œ ê°œì„ **: ì˜¤íƒ€, ë¶ˆëª…í™•í•œ ì„¤ëª… ìˆ˜ì •

### Pull Request

1. **Fork** í›„ ë¸Œëœì¹˜ ìƒì„±
   ```bash
   git checkout -b feature/amazing-feature
   ```

2. **ì½”ë“œ ì‘ì„±** ë° í…ŒìŠ¤íŠ¸
   ```bash
   cargo build
   cargo clippy  # ë¦°íŠ¸ ê²€ì‚¬
   cargo fmt     # í¬ë§¤íŒ…
   ```

3. **ì»¤ë°‹** (Conventional Commits ê¶Œì¥)
   ```bash
   git commit -m "feat: add volume control"
   git commit -m "fix: handle audio device disconnection"
   git commit -m "docs: update README with new feature"
   ```

4. **Push** ë° PR ìƒì„±
   ```bash
   git push origin feature/amazing-feature
   ```

### ì½”ë“œ ìŠ¤íƒ€ì¼

- `cargo fmt`ë¡œ í¬ë§¤íŒ…
- `cargo clippy`ë¡œ ë¦°íŠ¸ í†µê³¼
- ì£¼ìš” í•¨ìˆ˜ì— ë¬¸ì„œ ì£¼ì„ (`///`) ì‘ì„±
- ì—ëŸ¬ ì²˜ë¦¬ëŠ” `Result`/`Option` ì‚¬ìš©

---

## ì•Œë ¤ì§„ ì´ìŠˆ ë° ì œí•œì‚¬í•­

### í˜„ì¬ ì œí•œì‚¬í•­

| ì´ìŠˆ | ì„¤ëª… | ìƒíƒœ |
|------|------|------|
| Windows ì „ìš© | WASAPIëŠ” Windowsì—ì„œë§Œ ì‚¬ìš© ê°€ëŠ¥ | ì„¤ê³„ìƒ ì œí•œ |
| ë‹¨ì¼ ì¶œë ¥ ì¥ì¹˜ | í˜„ì¬ ê¸°ë³¸ ì¶œë ¥ ì¥ì¹˜ë§Œ ìº¡ì²˜ | í–¥í›„ ê°œì„  ì˜ˆì • |
| WebSocket ë ˆì´í„´ì‹œ | ~50-100ms (Web Audio API) | âœ… ì €ì§€ì—° |
| HTTP ë ˆì´í„´ì‹œ | ~2-3ì´ˆ (ë¸Œë¼ìš°ì € ë²„í¼ë§) | ë ˆê±°ì‹œ ëª¨ë“œ |
| ì½˜ì†” ì°½ (ë””ë²„ê·¸) | ê°œë°œ ë¹Œë“œì—ì„œ ì½˜ì†” í‘œì‹œ | ë¦´ë¦¬ì¦ˆì—ì„œ í•´ê²° |
| CMake í•„ìš” | Opus ë¹Œë“œì— CMake í•„ìˆ˜ | ë¬¸ì„œí™”ë¨ |

### ë¹Œë“œ ì‹œ ê²½ê³ 

í˜„ì¬ ì¼ë¶€ unused ê²½ê³ ê°€ ìˆìŠµë‹ˆë‹¤ (í–¥í›„ ê¸°ëŠ¥ í™•ì¥ìš© ì½”ë“œ):

```
warning: method `save` is never used
warning: method `is_capturing` is never used
warning: methods `client_count` and `is_running` are never used
```

ì´ ì½”ë“œë“¤ì€ UI ê°œì„  ì‹œ ì‚¬ìš©ë  ì˜ˆì •ì…ë‹ˆë‹¤.

---

## í–¥í›„ ê°œì„  ì‚¬í•­

### ê³„íšëœ ê¸°ëŠ¥

- [ ] **ë³¼ë¥¨ ì¡°ì ˆ** - ì„œë²„ ì¸¡ ê²Œì¸ ì»¨íŠ¸ë¡¤
- [ ] **ì¥ì¹˜ ì„ íƒ** - íŠ¹ì • ì˜¤ë””ì˜¤ ì¥ì¹˜ ìº¡ì²˜
- [ ] **ì‹¤ì‹œê°„ ì„¤ì • ë³€ê²½** - ì¬ì‹œì‘ ì—†ì´ ì„¤ì • ì ìš©
- [x] **Opus ì½”ë±** - ë” ë‚®ì€ ë ˆì´í„´ì‹œ ì˜µì…˜ âœ…
- [x] **WebSocket ì €ì§€ì—° ìŠ¤íŠ¸ë¦¬ë°** - Raw Opus + Web Audio API (~50-100ms) âœ…
- [ ] **QR ì½”ë“œ** - ëª¨ë°”ì¼ ì ‘ì† í¸ì˜ì„±
- [ ] **HTTPS** - ë³´ì•ˆ ì—°ê²° ì§€ì›
- [ ] **ì¸ìŠ¤í†¨ëŸ¬** - MSI/NSIS íŒ¨í‚¤ì§€

### ê¸°ì—¬ í™˜ì˜ ë¶„ì•¼

- ğŸ¨ UI/UX ê°œì„  (ì›¹ í”Œë ˆì´ì–´ ë””ìì¸)
- ğŸ§ª í…ŒìŠ¤íŠ¸ ì½”ë“œ ì‘ì„±
- ğŸ“± PWA ì§€ì›
- ğŸŒ ë‹¤êµ­ì–´ ì§€ì›
- ğŸ“¦ íŒ¨í‚¤ì§€ ë°°í¬ (Chocolatey, Scoop, winget)

---

## ê°œë°œ íˆìŠ¤í† ë¦¬

ì´ í”„ë¡œì íŠ¸ëŠ” 2026ë…„ 2ì›” 7ì¼ì— ì‹œì‘ë˜ì—ˆìŠµë‹ˆë‹¤.

### ì´ˆê¸° ê°œë°œ ê³¼ì •

1. **Rust í™˜ê²½ ì„¤ì •** - rustupìœ¼ë¡œ 1.93.0 ë²„ì „ ì„¤ì¹˜
2. **í”„ë¡œì íŠ¸ êµ¬ì¡° ì„¤ê³„** - ëª¨ë“ˆí™”ëœ ì•„í‚¤í…ì²˜ ì„¤ê³„
3. **í•µì‹¬ ê¸°ëŠ¥ êµ¬í˜„**
   - WASAPI ì˜¤ë””ì˜¤ ìº¡ì²˜ (cpal)
   - MP3 ì¸ì½”ë”© (mp3lame-encoder)
   - HTTP ìŠ¤íŠ¸ë¦¬ë° ì„œë²„ (tiny_http)
4. **ì‹œìŠ¤í…œ íŠ¸ë ˆì´** - tray-item + Windows API í†µí•©
5. **ì•„ì´ì½˜ í†µí•©** - í”„ë¡œí˜ì…”ë„ ì•„ì´ì½˜ ë¦¬ì†ŒìŠ¤ ì„ë² ë”©
6. **ë¹Œë“œ ìµœì í™”** - LTO, ìŠ¤íŠ¸ë¦¬í•‘ìœ¼ë¡œ 2.3MB ë‹¬ì„±

### ê¸°ìˆ ì  ë„ì „

- **Ogg ì»¨í…Œì´ë„ˆ í˜¸í™˜ì„±**: Chromiumì€ BOS í”Œë˜ê·¸ê°€ ì²« í˜ì´ì§€ì—ë§Œ ìˆì–´ì•¼ í•¨ - ìˆ˜ë™ Ogg í˜ì´ì§€ ìƒì„±ìœ¼ë¡œ í•´ê²°
- **ì €ì§€ì—° ìµœì í™”**: ì±„ë„ ë²„í¼ í¬ê¸° ì¶•ì†Œ (64â†’4), Opus LowDelay ëª¨ë“œ, 10ms í”„ë ˆì„
- **í´ë¼ì´ì–¸íŠ¸ë³„ ìŠ¤íŠ¸ë¦¼**: ê° í´ë¼ì´ì–¸íŠ¸ê°€ ê³ ìœ í•œ Ogg ì‹œë¦¬ì–¼ë¡œ ì™„ì „í•œ ìŠ¤íŠ¸ë¦¼ ìˆ˜ì‹ 
- **WebSocket ì €ì§€ì—° ìŠ¤íŠ¸ë¦¬ë°**: Raw Opus íŒ¨í‚· + opus-decoder WASM + Web Audio APIë¡œ ~50-100ms ë‹¬ì„±
- **ë²„í¼ ë™ê¸°í™”**: Hard sync ë°©ì‹ìœ¼ë¡œ ë²„í¼ ì´ˆê³¼ ì‹œ ì¦‰ì‹œ ìŠ¤í‚µ (playback rate ë³€ê²½ ì—†ìŒ, í”¼ì¹˜ ìœ ì§€)
- **í”„ë ˆì„ ë²„í¼ë§**: ë¶ˆì™„ì „í•œ Opus í”„ë ˆì„ ë°©ì§€ë¥¼ ìœ„í•œ ìƒ˜í”Œ ë²„í¼ë§ êµ¬í˜„
- **Windows API íƒ€ì…**: windows-sysì˜ HICONì´ isize íƒ€ì…ì´ë¼ í˜¸í™˜ ì²˜ë¦¬ í•„ìš”
- **íŠ¸ë ˆì´ ì•„ì´ì½˜ ë¡œë”©**: íŒŒì¼/ë¦¬ì†ŒìŠ¤ ë‘ ê°€ì§€ ë°©ì‹ ëª¨ë‘ ì§€ì›í•˜ë„ë¡ í´ë°± êµ¬í˜„

---

## ë¼ì´ì„ ìŠ¤

MIT License - ììœ ë¡­ê²Œ ì‚¬ìš©, ìˆ˜ì •, ë°°í¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

---

## ì—°ë½ì²˜

- GitHub Issues: [í”„ë¡œì íŠ¸ ì´ìŠˆ í˜ì´ì§€]
- ì´ë©”ì¼: [ì´ë©”ì¼ ì£¼ì†Œ]

ê°ì‚¬í•©ë‹ˆë‹¤! ğŸµğŸ¦€
